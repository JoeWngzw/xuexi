<!DOCTYPE html>
<html>
<head>
	<title></title>

	<script type="text/javascript">
		window.onload = function(){

			var cbox = document.getElementsByClassName('cbox');
			var qx  = document.getElementById('qx');
			var fx  = document.getElementById('fx');
			var n = 0;

			qx.onclick = function(){
				for (var i = 0; i < cbox.length; i++) {
					if(this.checked == true){
						cbox[i].checked =true;
						n = cbox.length;
					}else{
						cbox[i].checked =false;
						n = 0;
					}
				}

			}

			fx.onclick = function(){
				for (var i = 0; i < cbox.length; i++) {
					if(cbox[i].checked == true){
						cbox[i].checked =false;
						n--;
					}else{
						cbox[i].checked =true;
						n++;
					}
					if(n == cbox.length){
						qx.checked =true;
					}else{
						qx.checked =false;
					}
				}

			}


			for (var i = 0; i < cbox.length; i++) {
				cbox[i].onclick = function(){
					if(this.checked == true){
						n++;
						console.log(n);
					}else{
						n--;
						console.log(n);

					}
					if(n == cbox.length){
						qx.checked =true;
					}else{
						qx.checked =false;
					}
				}
				

			}

			

		}

	</script>
</head>
<body>
	
	<input type="checkbox" id="qx" name="">全选
	<input type="checkbox" id="fx" name="">反选
	
	<hr>

	<input class="cbox" type="checkbox" name="">
	<input class="cbox" type="checkbox" name="">
	<input class="cbox" type="checkbox" name="">
	<input class="cbox" type="checkbox" name="">
	<input class="cbox" type="checkbox" name="">
	<input class="cbox" type="checkbox" name="">
	<input class="cbox" type="checkbox" name="">
</body>
</html>