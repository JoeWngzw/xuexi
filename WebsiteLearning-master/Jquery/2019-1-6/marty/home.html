<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>电子游戏-列表页</title>
	<link rel="stylesheet" href="./css/common.css">
	<link rel="stylesheet" href="./css/base.css">
</head>
<style>
	.banner li {
		height: 440px;
		display: none;
	}
	.banner .active {
		display: block;
	}

	.banner {
		height: 440px;
		overflow: hidden;
		position: relative;
	}

	.left, .right {
		position: absolute;
		top: 50%;
		width: 40px;
		height: 60px;
		background-color: #000;
		background-image: url(https://vnsr186.com/dist/img/home.58d75cd.png);
		display: none;
	}

	.left {
		left: 30px;
		background-position: -126px -687px;
	}
	.right {
		right: 30px;
		background-position: -6px -687px;
	}




</style>

<script src="./js/jquery.js"></script>

<script src="./js/common.js"></script>

<script>
	// ;(function (window) {
	// 	window.banner = function (banner) {
	// 		var BANNER = {
	// 		    size: banner.size(),
	// 		    i: 0, // the index of banner's account
	// 		    t: null, // timer of setInterval
	// 		    init: function () {
	// 		        if (this.size === 0 || this.size === 1) return
	// 		        var _this = this
	// 		        this.t = setInterval(function () {
	// 		            _this.moveRight()
	// 		        }, 4000)
	// 		        // this.hover()
	// 		        // this.click()
	// 		    },
	// 		    hover: function () {
	// 		        var _this = this
	// 		        $('.banner-box').hover(function () {
	// 		            prev.show()
	// 		            next.show()
	// 		            clearInterval(_this.t)
	// 		        }, function () {
	// 		            next.hide()
	// 		            prev.hide()
	// 		            _this.t = setInterval(function () {
	// 		                _this.moveRight()
	// 		            }, 4000)
	// 		        })
	// 		    },
	// 		    click: function () {
	// 		        var _this = this
	// 		        prev.on('click', function () {
	// 		            _this.moveLeft()
	// 		        })
	// 		        next.on('click', function () {
	// 		            _this.moveRight()
	// 		        })
	// 		    },
	// 		    moveRight: function () {
	// 		        this.i++
	// 		        if (this.i === this.size) {
	// 		            this.i = 0
	// 		        }
	// 		        banner.eq(this.i).fadeIn(300).siblings().fadeOut(300)
	// 		    },
	// 		    moveLeft: function () {
	// 		        this.i--
	// 		        if (this.i === -1) {
	// 		            this.i = this.size - 1
	// 		        }
	// 		        banner.eq(this.i).fadeIn(300).siblings().fadeOut(300)
	// 		    }
	// 		}
	// 		BANNER.init()
	// 	}
	// })(window)



	$(function () {

		var banner = {
			name: 'banner',
			aLis: null,
			size: 0,
			container: $('.banner'),
			now: 0,
			t: null,
			init: function () {

				this.aLis = $('.banner li')
				this.size = $('.banner li').length
				var that = this

				this.t = setInterval(function () {
					that.moveRight();
				}, 3000)
				
				this.bindEvent()
			},
			moveRight: function () {
				if (this.now == this.size) {
					this.now = 0
				}
		        this.aLis.eq(this.now).fadeIn(1000).siblings().fadeOut(1000)
				this.now++

				var that = this
			},

			moveLeft: function () {
				if (this.now < 0) {
					this.now = this.size - 1
				}
		        this.aLis.eq(this.now).fadeIn(1000).siblings().fadeOut(1000)
				this.now--
			}, 

			bindEvent: function () {

				var that = this

				this.container.hover(function() {

					$(this).find('div').show()
					
					clearInterval(that.t)
				}, function() {
					clearInterval(that.t)
					that.t = setInterval(function () {
						that.moveRight();
					}, 3000)
					$(this).find('div').hide()
				});

				$('.banner .left').on('click', function () {
					that.moveLeft()
				})

				$('.banner .right').on('click', function () {
					that.moveRight()
				})
			}
		}


		$.ajax({
			url: 'https://b9188.com/member/banners/?platform=1',
			type: 'get',
			success: function (data) {
				console.log(data)

				var arr = []
				for(var i = 0; i < data.length; i++) {
					var oS = '<li style="background: url('+data[i].image+') center;"></li>'
					arr.push(oS)
				}


				$('.banner ul').html(arr.join(''))

				banner.init()

			},
			error: function (e) {
				console.log(e)
			}
		})
	})

</script>
<body>
	
	<div class="logo-box clearfix main-w">
		<img class="fl" src="https://jaguar-production.azureedge.net/website/home-page/icon/logo_s96JYBx.png" alt="">
		<div class="fr btn-box">
			<button class="btn-login"><a href="/WebsiteLearning-master/Jquery/2019-1-6/marty/login.html">登陆</a></button>
			<button class="btn-register">注册</button>
		</div>


		<div class="islogin fr">
			<a href="">立即存款</a>
			<a href="">申请取款</a>
			<a href="">额度转换</a>
			<a href="">站内消息</a>
		</div>
	</div>
	<div class="nav clearfix main-w">
		<ul class="fl clearfix list">
			<li class="fl">首页</li>
			<!-- <li class="fl">
				<p>真人视讯</p>
				<span class="caret"></span>
				<div class="drop">
					<div class="main-w menus clearfix">
	
						<div class="item fl">
							<img src="https://jaguar-production.azureedge.net/providericons/ag.png" alt="">
							<p>AG电子</p>
						</div>
						

						<div class="item fl">
							<img src="https://jaguar-production.azureedge.net/providericons/ag.png" alt="">
							<p>AG电子</p>
						</div>

						<div class="item fl">
							<img src="https://jaguar-production.azureedge.net/providericons/ag.png" alt="">
							<p>AG电子</p>
						</div>
					</div>
				</div>

			</li>
			<li class="fl">

				<p>电子游艺</p>
				<span class="caret"></span>

				<div class="drop">
					<div class="main-w menus">
						电子游艺
					</div>
				</div>

			</li>
			<li class="fl">
				<p>体育赛事</p>
				<span class="caret"></span>

				<div class="drop">
					<div class="main-w menus">
						体育赛事
					</div>
				</div>
			</li>
			<li class="fl">
				<p>彩票游戏</p>
				<span class="caret"></span>

				<div class="drop">
					<div class="main-w menus">
						彩票游戏
					</div>
				</div>
			</li>
			<li class="fl">
				<p>捕鱼</p>
				<span class="caret"></span>
				
				<div class="drop">
					<div class="main-w menus">
						捕鱼
					</div>
				</div>
			</li> -->
		</ul>
		<ul class="fr clearfix">
			<li class="fl">优惠活动</li>
			<li class="fl">代理加盟</li>
			<li class="fl">在线客服</li>
		</ul>
	</div>

	<div class="banner">
		<ul>
			<!-- <li style="background: url(https://jaguar-production.azureedge.net/banners/01.jpg) center;"></li>
			<li style="background: url(https://jaguar-production.azureedge.net/banners/%E9%A6%96%E9%A1%B5%E6%B5%B7%E6%8A%A5-%E5%BD%A9%E7%A5%A81.jpg) center;"></li>


			<li style="background: url(https://jaguar-production.azureedge.net/banners/%E6%8D%95%E9%B1%BC_Nsax0QA.jpg) center;"></li> -->
		</ul>
		<div class="left">
			
		</div>

		<div class="right">
			
		</div>
	</div>
</body>
</html>